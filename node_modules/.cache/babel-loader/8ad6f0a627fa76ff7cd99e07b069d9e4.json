{"remainingRequest":"/Users/zsy/Projects/about_me/node_modules/thread-loader/dist/cjs.js!/Users/zsy/Projects/about_me/node_modules/babel-loader/lib/index.js!/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zsy/Projects/about_me/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zsy/Projects/about_me/node_modules/healen-x-ui/packages/list/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zsy/Projects/about_me/node_modules/healen-x-ui/packages/list/index.vue","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport create from '../utils/create';\nimport utils from '../utils/scroll';\nimport { on, off } from '../utils/event';\nexport default create({\n  name: 'list',\n  model: {\n    prop: 'loading'\n  },\n  props: {\n    loading: Boolean,\n    finished: Boolean,\n    immediateCheck: {\n      type: Boolean,\n      default: true\n    },\n    offset: {\n      type: Number,\n      default: 300\n    },\n    loadingText: String\n  },\n  mounted: function mounted() {\n    this.scroller = utils.getScrollEventTarget(this.$el);\n    this.handler(true);\n\n    if (this.immediateCheck) {\n      this.$nextTick(this.check);\n    }\n  },\n  destroyed: function destroyed() {\n    this.handler(false);\n  },\n  activated: function activated() {\n    this.handler(true);\n  },\n  deactivated: function deactivated() {\n    this.handler(false);\n  },\n  watch: {\n    loading: function loading() {\n      this.$nextTick(this.check);\n    },\n    finished: function finished() {\n      this.$nextTick(this.check);\n    }\n  },\n  methods: {\n    check: function check() {\n      if (this.loading || this.finished) {\n        return;\n      }\n\n      var el = this.$el;\n      var scroller = this.scroller;\n      var scrollerHeight = utils.getVisibleHeight(scroller);\n      /* istanbul ignore next */\n\n      if (!scrollerHeight || utils.getComputedStyle(el).display === 'none' || el.offsetParent === null) {\n        return;\n      }\n\n      var scrollTop = utils.getScrollTop(scroller);\n      var targetBottom = scrollTop + scrollerHeight;\n      var reachBottom = false;\n      /* istanbul ignore next */\n\n      if (el === scroller) {\n        reachBottom = scroller.scrollHeight - targetBottom < this.offset;\n      } else {\n        var elBottom = utils.getElementTop(el) - utils.getElementTop(scroller) + utils.getVisibleHeight(el);\n        reachBottom = elBottom - scrollerHeight < this.offset;\n      }\n      /* istanbul ignore else */\n\n\n      if (reachBottom) {\n        this.$emit('input', true);\n        this.$emit('load');\n      }\n    },\n    handler: function handler(bind) {\n      /* istanbul ignore else */\n      if (this.binded !== bind) {\n        this.binded = bind;\n        (bind ? on : off)(this.scroller, 'scroll', this.check);\n      }\n    }\n  }\n});",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,OAAA,MAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,iBAAA;AACA,SAAA,EAAA,EAAA,GAAA,QAAA,gBAAA;AAEA,eAAA,MAAA,CAAA;AACA,EAAA,IAAA,EAAA,MADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAHA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,QAAA,EAAA,OAFA;AAGA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAHA;AAOA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAPA;AAWA,IAAA,WAAA,EAAA;AAXA,GAPA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,QAAA,GAAA,KAAA,CAAA,oBAAA,CAAA,KAAA,GAAA,CAAA;AACA,SAAA,OAAA,CAAA,IAAA;;AAEA,QAAA,KAAA,cAAA,EAAA;AACA,WAAA,SAAA,CAAA,KAAA,KAAA;AACA;AACA,GA5BA;AA8BA,EAAA,SA9BA,uBA8BA;AACA,SAAA,OAAA,CAAA,KAAA;AACA,GAhCA;AAkCA,EAAA,SAlCA,uBAkCA;AACA,SAAA,OAAA,CAAA,IAAA;AACA,GApCA;AAsCA,EAAA,WAtCA,yBAsCA;AACA,SAAA,OAAA,CAAA,KAAA;AACA,GAxCA;AA0CA,EAAA,KAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,SAAA,CAAA,KAAA,KAAA;AACA,KAHA;AAKA,IAAA,QALA,sBAKA;AACA,WAAA,SAAA,CAAA,KAAA,KAAA;AACA;AAPA,GA1CA;AAoDA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,KAAA,OAAA,IAAA,KAAA,QAAA,EAAA;AACA;AACA;;AAEA,UAAA,EAAA,GAAA,KAAA,GAAA;AALA,UAMA,QANA,GAMA,IANA,CAMA,QANA;AAOA,UAAA,cAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,QAAA,CAAA;AAEA;;AACA,UAAA,CAAA,cAAA,IAAA,KAAA,CAAA,gBAAA,CAAA,EAAA,EAAA,OAAA,KAAA,MAAA,IAAA,EAAA,CAAA,YAAA,KAAA,IAAA,EAAA;AACA;AACA;;AAEA,UAAA,SAAA,GAAA,KAAA,CAAA,YAAA,CAAA,QAAA,CAAA;AACA,UAAA,YAAA,GAAA,SAAA,GAAA,cAAA;AAEA,UAAA,WAAA,GAAA,KAAA;AAEA;;AACA,UAAA,EAAA,KAAA,QAAA,EAAA;AACA,QAAA,WAAA,GAAA,QAAA,CAAA,YAAA,GAAA,YAAA,GAAA,KAAA,MAAA;AACA,OAFA,MAEA;AACA,YAAA,QAAA,GACA,KAAA,CAAA,aAAA,CAAA,EAAA,IACA,KAAA,CAAA,aAAA,CAAA,QAAA,CADA,GAEA,KAAA,CAAA,gBAAA,CAAA,EAAA,CAHA;AAIA,QAAA,WAAA,GAAA,QAAA,GAAA,cAAA,GAAA,KAAA,MAAA;AACA;AAEA;;;AACA,UAAA,WAAA,EAAA;AACA,aAAA,KAAA,CAAA,OAAA,EAAA,IAAA;AACA,aAAA,KAAA,CAAA,MAAA;AACA;AACA,KApCA;AAsCA,IAAA,OAtCA,mBAsCA,IAtCA,EAsCA;AACA;AACA,UAAA,KAAA,MAAA,KAAA,IAAA,EAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,SAAA,IAAA,GAAA,EAAA,GAAA,GAAA,EAAA,KAAA,QAAA,EAAA,QAAA,EAAA,KAAA,KAAA;AACA;AACA;AA5CA;AApDA,CAAA,CAAA","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <slot />\n    <div v-show=\"loading\" :class=\"b('loading')\">\n      <slot name=\"loading\">\n        <loading />\n        <span :class=\"b('loading-text')\">{{ loadingText || $t('loadingTip') }}</span>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport create from '../utils/create';\nimport utils from '../utils/scroll';\nimport { on, off } from '../utils/event';\n\nexport default create({\n  name: 'list',\n\n  model: {\n    prop: 'loading'\n  },\n\n  props: {\n    loading: Boolean,\n    finished: Boolean,\n    immediateCheck: {\n      type: Boolean,\n      default: true\n    },\n    offset: {\n      type: Number,\n      default: 300\n    },\n    loadingText: String\n  },\n\n  mounted() {\n    this.scroller = utils.getScrollEventTarget(this.$el);\n    this.handler(true);\n\n    if (this.immediateCheck) {\n      this.$nextTick(this.check);\n    }\n  },\n\n  destroyed() {\n    this.handler(false);\n  },\n\n  activated() {\n    this.handler(true);\n  },\n\n  deactivated() {\n    this.handler(false);\n  },\n\n  watch: {\n    loading() {\n      this.$nextTick(this.check);\n    },\n\n    finished() {\n      this.$nextTick(this.check);\n    }\n  },\n\n  methods: {\n    check() {\n      if (this.loading || this.finished) {\n        return;\n      }\n\n      const el = this.$el;\n      const { scroller } = this;\n      const scrollerHeight = utils.getVisibleHeight(scroller);\n\n      /* istanbul ignore next */\n      if (!scrollerHeight || utils.getComputedStyle(el).display === 'none' || el.offsetParent === null) {\n        return;\n      }\n\n      const scrollTop = utils.getScrollTop(scroller);\n      const targetBottom = scrollTop + scrollerHeight;\n\n      let reachBottom = false;\n\n      /* istanbul ignore next */\n      if (el === scroller) {\n        reachBottom = scroller.scrollHeight - targetBottom < this.offset;\n      } else {\n        const elBottom =\n          utils.getElementTop(el) -\n          utils.getElementTop(scroller) +\n          utils.getVisibleHeight(el);\n        reachBottom = elBottom - scrollerHeight < this.offset;\n      }\n\n      /* istanbul ignore else */\n      if (reachBottom) {\n        this.$emit('input', true);\n        this.$emit('load');\n      }\n    },\n\n    handler(bind) {\n      /* istanbul ignore else */\n      if (this.binded !== bind) {\n        this.binded = bind;\n        (bind ? on : off)(this.scroller, 'scroll', this.check);\n      }\n    }\n  }\n});\n</script>\n"],"sourceRoot":"node_modules/healen-x-ui/packages/list"}]}