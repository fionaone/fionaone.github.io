{"remainingRequest":"/Users/zsy/Projects/about_me/node_modules/thread-loader/dist/cjs.js!/Users/zsy/Projects/about_me/node_modules/babel-loader/lib/index.js!/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zsy/Projects/about_me/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zsy/Projects/about_me/node_modules/healen-x-ui/packages/coupon-list/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zsy/Projects/about_me/node_modules/healen-x-ui/packages/coupon-list/index.vue","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport create from '../utils/create';\nimport CouponItem from './Item';\nimport Field from '../field';\nimport VanButton from '../button';\nimport Tab from '../tab';\nimport Tabs from '../tabs';\nexport default create({\n  name: 'coupon-list',\n  components: {\n    Tab: Tab,\n    Tabs: Tabs,\n    Field: Field,\n    VanButton: VanButton,\n    CouponItem: CouponItem\n  },\n  model: {\n    prop: 'code'\n  },\n  props: {\n    code: String,\n    closeButtonText: String,\n    inputPlaceholder: String,\n    exchangeButtonText: String,\n    exchangeButtonLoading: Boolean,\n    exchangeButtonDisabled: Boolean,\n    exchangeMinLength: {\n      type: Number,\n      default: 1\n    },\n    chosenCoupon: {\n      type: Number,\n      default: -1\n    },\n    coupons: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    disabledCoupons: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    displayedCouponIndex: {\n      type: Number,\n      default: -1\n    },\n    showExchangeBar: {\n      type: Boolean,\n      default: true\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      tab: 0,\n      winHeight: window.innerHeight,\n      currentCode: this.code || ''\n    };\n  },\n  computed: {\n    buttonDisabled: function buttonDisabled() {\n      return !this.exchangeButtonLoading && (this.exchangeButtonDisabled || !this.currentCode || this.currentCode.length < this.exchangeMinLength);\n    },\n    title: function title() {\n      return \"\".concat(this.$t('enable'), \" (\").concat(this.coupons.length, \")\");\n    },\n    disabledTitle: function disabledTitle() {\n      return \"\".concat(this.$t('disabled'), \" (\").concat(this.disabledCoupons.length, \")\");\n    },\n    listStyle: function listStyle() {\n      return {\n        height: this.winHeight - (this.showExchangeBar ? 140 : 94) + 'px'\n      };\n    }\n  },\n  watch: {\n    code: function code(_code) {\n      this.currentCode = _code;\n    },\n    currentCode: function currentCode(code) {\n      this.$emit('input', code);\n    },\n    displayedCouponIndex: function displayedCouponIndex(val) {\n      this.scrollToShowCoupon(val);\n    }\n  },\n  mounted: function mounted() {\n    this.scrollToShowCoupon(this.displayedCouponIndex);\n  },\n  methods: {\n    onClickExchangeButton: function onClickExchangeButton() {\n      this.$emit('exchange', this.currentCode); // auto clear currentCode when not use v-model\n\n      if (!this.code) {\n        this.currentCode = '';\n      }\n    },\n    // scroll to show specific coupon\n    scrollToShowCoupon: function scrollToShowCoupon(index) {\n      var _this = this;\n\n      if (index === -1) {\n        return;\n      }\n\n      this.$nextTick(function () {\n        var _this$$refs = _this.$refs,\n            card = _this$$refs.card,\n            list = _this$$refs.list;\n        /* istanbul ignore next */\n\n        if (list && card && card[index]) {\n          list.scrollTop = card[index].$el.offsetTop - 100;\n        }\n      });\n    }\n  }\n});",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <field\n      v-if=\"showExchangeBar\"\n      v-model=\"currentCode\"\n      clearable\n      :border=\"false\"\n      :class=\"b('field')\"\n      :placeholder=\"inputPlaceholder || $t('placeholder')\"\n      :maxlength=\"20\"\n    >\n      <x-button\n        slot=\"button\"\n        size=\"small\"\n        type=\"danger\"\n        :class=\"b('exchange')\"\n        :text=\"exchangeButtonText || $t('exchange')\"\n        :loading=\"exchangeButtonLoading\"\n        :disabled=\"buttonDisabled\"\n        @click=\"onClickExchangeButton\"\n      />\n    </field>\n    <tabs v-model=\"tab\" :class=\"b('tab')\" :line-width=\"120\">\n      <tab :title=\"title\">\n        <div :class=\"b('list')\" :style=\"listStyle\">\n          <coupon-item\n            ref=\"card\"\n            v-for=\"(item, index) in coupons\"\n            :key=\"item.id || item.name\"\n            :data=\"item\"\n            :chosen=\"index === chosenCoupon\"\n            @click.native=\"$emit('change', index)\"\n          />\n          <div v-if=\"!coupons.length\" :class=\"b('empty')\">\n            <img src=\"https://img.yzcdn.cn/v2/image/wap/trade/new_order/empty@2x.png\" >\n            <p>{{ $t('empty') }}</p>\n          </div>\n        </div>\n      </tab>\n      <tab :title=\"disabledTitle\">\n        <div :class=\"b('list')\" :style=\"listStyle\">\n          <coupon-item\n            disabled\n            v-for=\"item in disabledCoupons\"\n            :key=\"item.id || item.name\"\n            :data=\"item\"\n          />\n          <div v-if=\"!disabledCoupons.length\" :class=\"b('empty')\">\n            <img src=\"https://img.yzcdn.cn/v2/image/wap/trade/new_order/empty@2x.png\" >\n            <p>{{ $t('empty') }}</p>\n          </div>\n        </div>\n      </tab>\n    </tabs>\n    <x-button\n      v-show=\"showCloseButton\"\n      size=\"large\"\n      :class=\"b('close')\"\n      :text=\"closeButtonText || $t('close')\"\n      @click=\"$emit('change', -1)\"\n    />\n  </div>\n</template>\n\n<script>\nimport create from '../utils/create';\nimport CouponItem from './Item';\nimport Field from '../field';\nimport VanButton from '../button';\nimport Tab from '../tab';\nimport Tabs from '../tabs';\n\nexport default create({\n  name: 'coupon-list',\n\n  components: {\n    Tab,\n    Tabs,\n    Field,\n    VanButton,\n    CouponItem\n  },\n\n  model: {\n    prop: 'code'\n  },\n\n  props: {\n    code: String,\n    closeButtonText: String,\n    inputPlaceholder: String,\n    exchangeButtonText: String,\n    exchangeButtonLoading: Boolean,\n    exchangeButtonDisabled: Boolean,\n    exchangeMinLength: {\n      type: Number,\n      default: 1\n    },\n    chosenCoupon: {\n      type: Number,\n      default: -1\n    },\n    coupons: {\n      type: Array,\n      default: () => []\n    },\n    disabledCoupons: {\n      type: Array,\n      default: () => []\n    },\n    displayedCouponIndex: {\n      type: Number,\n      default: -1\n    },\n    showExchangeBar: {\n      type: Boolean,\n      default: true\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      tab: 0,\n      winHeight: window.innerHeight,\n      currentCode: this.code || ''\n    };\n  },\n\n  computed: {\n    buttonDisabled() {\n      return (\n        !this.exchangeButtonLoading &&\n        (this.exchangeButtonDisabled || !this.currentCode ||\n          this.currentCode.length < this.exchangeMinLength)\n      );\n    },\n\n    title() {\n      return `${this.$t('enable')} (${this.coupons.length})`;\n    },\n\n    disabledTitle() {\n      return `${this.$t('disabled')} (${this.disabledCoupons.length})`;\n    },\n\n    listStyle() {\n      return {\n        height: this.winHeight - (this.showExchangeBar ? 140 : 94) + 'px'\n      };\n    }\n  },\n\n  watch: {\n    code(code) {\n      this.currentCode = code;\n    },\n\n    currentCode(code) {\n      this.$emit('input', code);\n    },\n\n    displayedCouponIndex(val) {\n      this.scrollToShowCoupon(val);\n    }\n  },\n\n  mounted() {\n    this.scrollToShowCoupon(this.displayedCouponIndex);\n  },\n\n  methods: {\n    onClickExchangeButton() {\n      this.$emit('exchange', this.currentCode);\n\n      // auto clear currentCode when not use v-model\n      if (!this.code) {\n        this.currentCode = '';\n      }\n    },\n\n    // scroll to show specific coupon\n    scrollToShowCoupon(index) {\n      if (index === -1) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        const { card, list } = this.$refs;\n\n        /* istanbul ignore next */\n        if (list && card && card[index]) {\n          list.scrollTop = card[index].$el.offsetTop - 100;\n        }\n      });\n    }\n  }\n});\n</script>\n"],"sourceRoot":"node_modules/healen-x-ui/packages/coupon-list"}]}