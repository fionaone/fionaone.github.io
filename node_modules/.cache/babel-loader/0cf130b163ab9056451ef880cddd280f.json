{"remainingRequest":"/Users/zsy/Projects/about_me/node_modules/thread-loader/dist/cjs.js!/Users/zsy/Projects/about_me/node_modules/babel-loader/lib/index.js!/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zsy/Projects/about_me/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zsy/Projects/about_me/node_modules/healen-x-ui/packages/swipe-cell/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zsy/Projects/about_me/node_modules/healen-x-ui/packages/swipe-cell/index.vue","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zsy/Projects/about_me/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport create from '../utils/create';\nimport Clickoutside from '../utils/clickoutside';\nimport Touch from '../mixins/touch';\nvar THRESHOLD = 0.15;\nexport default create({\n  name: 'swipe-cell',\n  mixins: [Touch],\n  props: {\n    onClose: Function,\n    disabled: Boolean,\n    leftWidth: {\n      type: Number,\n      default: 0\n    },\n    rightWidth: {\n      type: Number,\n      default: 0\n    }\n  },\n  directives: {\n    Clickoutside: Clickoutside\n  },\n  data: function data() {\n    return {\n      offset: 0,\n      draging: false\n    };\n  },\n  computed: {\n    wrapperStyle: function wrapperStyle() {\n      return {\n        transform: \"translate3d(\".concat(this.offset, \"px, 0, 0)\"),\n        transition: this.draging ? 'none' : '.6s cubic-bezier(0.18, 0.89, 0.32, 1)'\n      };\n    }\n  },\n  methods: {\n    open: function open(position) {\n      var offset = position === 'left' ? this.leftWidth : -this.rightWidth;\n      this.swipeMove(offset);\n      this.resetSwipeStatus();\n    },\n    close: function close() {\n      this.offset = 0;\n    },\n    resetSwipeStatus: function resetSwipeStatus() {\n      this.swiping = false;\n      this.opened = true;\n    },\n    swipeMove: function swipeMove() {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this.offset = offset;\n      offset && (this.swiping = true);\n      !offset && (this.opened = false);\n    },\n    swipeLeaveTransition: function swipeLeaveTransition(direction) {\n      var offset = this.offset,\n          leftWidth = this.leftWidth,\n          rightWidth = this.rightWidth;\n      var threshold = this.opened ? 1 - THRESHOLD : THRESHOLD; // right\n\n      if (direction > 0 && -offset > rightWidth * threshold && rightWidth > 0) {\n        this.open('right'); // left\n      } else if (direction < 0 && offset > leftWidth * threshold && leftWidth > 0) {\n        this.open('left');\n      } else {\n        this.swipeMove();\n      }\n    },\n    startDrag: function startDrag(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.draging = true;\n      this.touchStart(event);\n\n      if (this.opened) {\n        this.startX -= this.offset;\n      }\n    },\n    onDrag: function onDrag(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.touchMove(event);\n      var deltaX = this.deltaX;\n\n      if (deltaX < 0 && (-deltaX > this.rightWidth || !this.rightWidth) || deltaX > 0 && (deltaX > this.leftWidth || deltaX > 0 && !this.leftWidth)) {\n        return;\n      }\n\n      if (this.direction === 'horizontal') {\n        event.preventDefault();\n        this.swipeMove(deltaX);\n      }\n\n      ;\n    },\n    endDrag: function endDrag() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.draging = false;\n\n      if (this.swiping) {\n        this.swipeLeaveTransition(this.offset > 0 ? -1 : 1);\n      }\n\n      ;\n    },\n    onClick: function onClick() {\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'outside';\n      this.$emit('click', position);\n\n      if (!this.offset) {\n        return;\n      }\n\n      if (this.onClose) {\n        this.onClose(position, this);\n      } else {\n        this.swipeMove(0);\n      }\n    }\n  }\n});",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    v-clickoutside:touchstart=\"onClick\"\n    :class=\"b()\"\n    @click=\"onClick('cell')\"\n    @touchstart=\"startDrag\"\n    @touchmove=\"onDrag\"\n    @touchend=\"endDrag\"\n    @touchcancel=\"endDrag\"\n  >\n    <div\n      :class=\"b('wrapper')\"\n      :style=\"wrapperStyle\"\n      @transitionend=\"swipe = false\"\n    >\n      <div v-if=\"leftWidth\" :class=\"b('left')\" @click.stop=\"onClick('left')\">\n        <slot name=\"left\" />\n      </div>\n      <slot />\n      <div v-if=\"rightWidth\" :class=\"b('right')\" @click.stop=\"onClick('right')\">\n        <slot name=\"right\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport create from '../utils/create';\nimport Clickoutside from '../utils/clickoutside';\nimport Touch from '../mixins/touch';\n\nconst THRESHOLD = 0.15;\n\nexport default create({\n  name: 'swipe-cell',\n\n  mixins: [Touch],\n\n  props: {\n    onClose: Function,\n    disabled: Boolean,\n    leftWidth: {\n      type: Number,\n      default: 0\n    },\n    rightWidth: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  directives: {\n    Clickoutside\n  },\n\n  data() {\n    return {\n      offset: 0,\n      draging: false\n    };\n  },\n\n  computed: {\n    wrapperStyle() {\n      return {\n        transform: `translate3d(${this.offset}px, 0, 0)`,\n        transition: this.draging ? 'none' : '.6s cubic-bezier(0.18, 0.89, 0.32, 1)'\n      };\n    }\n  },\n\n  methods: {\n    open(position) {\n      const offset = position === 'left' ? this.leftWidth : -this.rightWidth;\n      this.swipeMove(offset);\n      this.resetSwipeStatus();\n    },\n\n    close() {\n      this.offset = 0;\n    },\n\n    resetSwipeStatus() {\n      this.swiping = false;\n      this.opened = true;\n    },\n\n    swipeMove(offset = 0) {\n      this.offset = offset;\n      offset && (this.swiping = true);\n      !offset && (this.opened = false);\n    },\n\n    swipeLeaveTransition(direction) {\n      const { offset, leftWidth, rightWidth } = this;\n      const threshold = this.opened ? (1 - THRESHOLD) : THRESHOLD;\n\n      // right\n      if (direction > 0 && -offset > rightWidth * threshold && rightWidth > 0) {\n        this.open('right');\n      // left\n      } else if (direction < 0 && offset > leftWidth * threshold && leftWidth > 0) {\n        this.open('left');\n      } else {\n        this.swipeMove();\n      }\n    },\n\n    startDrag(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.draging = true;\n      this.touchStart(event);\n\n      if (this.opened) {\n        this.startX -= this.offset;\n      }\n    },\n\n    onDrag(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.touchMove(event);\n      const { deltaX } = this;\n\n      if ((deltaX < 0 && (-deltaX > this.rightWidth || !this.rightWidth)) ||\n        (deltaX > 0 && (deltaX > this.leftWidth || deltaX > 0 && !this.leftWidth))) {\n        return;\n      }\n\n      if (this.direction === 'horizontal') {\n        event.preventDefault();\n        this.swipeMove(deltaX);\n      };\n    },\n\n    endDrag() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.draging = false;\n      if (this.swiping) {\n        this.swipeLeaveTransition(this.offset > 0 ? -1 : 1);\n      };\n    },\n\n    onClick(position = 'outside') {\n      this.$emit('click', position);\n\n      if (!this.offset) {\n        return;\n      }\n\n      if (this.onClose) {\n        this.onClose(position, this);\n      } else {\n        this.swipeMove(0);\n      }\n    }\n  }\n});\n</script>\n"],"sourceRoot":"node_modules/healen-x-ui/packages/swipe-cell"}]}